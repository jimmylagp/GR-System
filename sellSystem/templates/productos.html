{% extends "base.html" %}
{% load humanize %}

{% block title %}Lista de productos{% endblock %}

{% block content %}

	<div class="row">
		<div class="large-9 columns">
			
			<div class="row">
				<div class="large-12 columns">
					{% if  request.GET %}
						{% if object_list %}
						<div data-alert class="alert-box info radius">
							Resultados para "{{ request.GET.nombre }}".
							<a href="#" class="close">&times;</a>
						</div>
						{% else %}
						<div data-alert class="alert-box warning radius">
							No se encontro ning√∫n resultado para "{{ request.GET.nombre }}".
							<a href="#" class="close">&times;</a>
						</div>
						{% endif %}
					{% endif %}
					<form action="/productos/" method="GET">
						<div class="panel">
							
							<div class="row">
								<div class="large-6 columns">
									<div class="row">
										<div class="large-12 columns">
											<input name="nombre" type="search" placeholder="Buscar un producto">
										</div>
									</div>
								</div>
								<div class="large-2 columns">
									<select name="tipo">
										<option value="">Tipo</option>
										<option value="0">Bicicleta</option>
										<option value="1">Motocicleta</option>
									</select>
								</div>
								<div class="large-2 columns">
									<select name="facturado">
										<option value="">Facturables</option>
										<option value="1">Facturados</option>
										<option value="0">No Facturados</option>
									</select>
								</div>
								<div class="large-2 columns">
									<button type="submit" class="button postfix">Buscar</button>
								</div>
							</div>

						</div>
					</form>
				</div>
			</div>

			<div class="row">
				<div class="large-12 columns">
					{{ url }}
					<table>
						<thead>
							<tr>
								<th width="8%">Cantidad</th>
								<th width="52%">Nombre</th>
								<th width="10%">Precio</th>
								<th width="30%">Anotaciones</th>
							</tr>
						</thead>
						<tbody>
							{% for producto in object_list %}
							<tr>
								<td>{{ producto.cantidad }}</td>
								<td>{{ producto.nombre }}</td>
								<td>${{ producto.precio|intcomma }}</td>
								<td>{{ producto.anotaciones }}</td>
							</tr>
							{% endfor %}
						</tbody>
					</table>

					{% if is_paginated %}
					<ul class="pagination">
						{% if page_obj.has_previous %}
						<li class="arrow">
							<a href="/productos/?{{ queries.urlencode }}&page={{ page_obj.previous_page_number }}">&laquo;</a>
						</li>
						{% else %}
						<li class="arrow unavailable">
							<a href="#">&laquo;</a>
						</li>
						{% endif %}
						{% for num in page_obj.paginator.page_range %}
							{% ifequal num page_obj.number %}
						<li class="current">
							<a href="#">{{ num }}</a>
						</li>
							{% else %}
						<li>
							<a href="?{{ queries.urlencode }}&page={{ num }}">{{ num }}</a>
						</li>
							{% endifequal %}
						{% endfor %}
						{% if page_obj.has_next %}
						<li class="arrow">
							<a href="/productos/?{{ queries.urlencode }}&page={{ page_obj.next_page_number }}">&raquo;</a>
						</li>
						{% else %}
						<li class="arrow">
							<a href="/productos/#">&raquo;</a>
						</li>
						{% endif %}
					</ul>
					{% endif  %}
				</div>
			</div>

		</div>
		<div class="large-3 columns">
			<div class="panel">
				
			</div>
		</div>
	</div>

{% endblock %}